{"version":3,"file":"web-orientation.js","sources":["../index.js"],"sourcesContent":["const ORIENTATION_LANDSCAPE = 'landscape'\r\nconst ORIENTATION_PORTRAIT = 'portrait'\r\n\r\nconst debouce = function(func, delay) {\r\n  let timer = null\r\n  return function () {\r\n    const context = this\r\n    const args = arguments\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      func.apply(context,args)\r\n    }, delay)\r\n  }\r\n}\r\n\r\nclass Orientation {\r\n  constructor () {\r\n    this.type = null\r\n\r\n    this.bind()\r\n  }\r\n\r\n  get isLandscape () {\r\n    return this.type === ORIENTATION_LANDSCAPE\r\n  }\r\n\r\n  get isPortrait () {\r\n    return this.type === ORIENTATION_PORTRAIT\r\n  }\r\n\r\n  bind () {\r\n    const initResizeEvent = debouce(() => {\r\n      this.get()\r\n    }, 300)\r\n    window.addEventListener('resize', initResizeEvent)\r\n  }\r\n\r\n  get () {\r\n    const data = localStorage.getItem('web-orientation')\r\n    const { clientWidth, clientHeight } = document.documentElement\r\n    let screenWidth = 0\r\n    let screenHeight = 0\r\n\r\n    if (!data) {\r\n      const { width, height } = window.screen\r\n      screenWidth = Math.min(width, height)\r\n      screenHeight = Math.max(width, height)\r\n      localStorage.setItem('web-orientation', `${screenWidth},${screenHeight}`)\r\n    } else {\r\n      ([screenWidth, screenHeight] = data.split(','));\r\n    }\r\n\r\n    this.type = clientWidth === screenWidth ? ORIENTATION_LANDSCAPE : ORIENTATION_PORTRAIT\r\n  }\r\n}\r\n\r\nexport default new Orientation()"],"names":["const","Orientation","constructor","type","bind","prototypeAccessors","isLandscape","this","isPortrait","func","delay","timer","initResizeEvent","get","context","args","arguments","clearTimeout","setTimeout","apply","addEventListener","data","localStorage","getItem","document","documentElement","screenWidth","screenHeight","split","window","screen","Math","min","width","height","max","setItem","clientWidth"],"mappings":"AAAAA,IAeMC,EACJC,gBACOC,KAAO,UAEPC,uEAGPC,EAAIC,iCAtBwB,cAuBnBC,KAAKJ,MAGdE,EAAIG,gCAzBuB,aA0BlBD,KAAKJ,MAGdC,YAAAA,oBA3BuBK,EAAMC,EACzBC,SA2BIC,GA5BeH,eA6BdI,OA7BoBH,EA8BxB,IA7BDC,EAAQ,KACL,eACCG,EAAUP,KACVQ,EAAOC,UACbC,aAAaN,GACbA,EAAQO,WAAW,WACjBT,EAAKU,MAAML,EAAQC,IAClBL,YAuBIU,iBAAiB,SAAUR,IAGpCC,YAAAA,qBACQQ,EAAOC,aAAaC,QAAQ,qBACIC,SAASC,gCAC3CC,EAAc,EACdC,EAAe,KAEdN,EAMDK,KAA6BL,EAAKO,MAAM,SAA3BD,WANN,OACiBE,OAAOC,8BACnBC,KAAKC,IAAIC,EAAOC,KACfH,KAAKI,IAAIF,EAAOC,GAC/BZ,aAAac,QAAQ,kBAAsBV,MAAeC,QAKvDxB,KAAOkC,IAAgBX,EApDF,YACD,mDAuD7B,MAAe,IAAIzB"}