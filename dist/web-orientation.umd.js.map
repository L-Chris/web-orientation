{"version":3,"file":"web-orientation.umd.js","sources":["../index.js"],"sourcesContent":["const ORIENTATION_LANDSCAPE = 'landscape'\r\nconst ORIENTATION_PORTRAIT = 'portrait'\r\n\r\nconst debouce = function (func, delay) {\r\n  let timer = null\r\n  return function () {\r\n    const context = this\r\n    const args = arguments\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      func.apply(context, args)\r\n    }, delay)\r\n  }\r\n}\r\n\r\nclass Orientation {\r\n  constructor () {\r\n    this.type = null\r\n\r\n    this.init()\r\n  }\r\n\r\n  get isLandscape () {\r\n    return this.type === ORIENTATION_LANDSCAPE\r\n  }\r\n\r\n  get isPortrait () {\r\n    return this.type === ORIENTATION_PORTRAIT\r\n  }\r\n\r\n  init () {\r\n    this.bind()\r\n    this.get()\r\n  }\r\n\r\n  bind () {\r\n    const initResizeEvent = debouce(() => {\r\n      this.get()\r\n    }, 300)\r\n    window.addEventListener('resize', initResizeEvent)\r\n  }\r\n\r\n  get () {\r\n    let data = localStorage.getItem('web-orientation')\r\n    const { clientWidth, clientHeight } = document.documentElement\r\n    let screenWidth = 0\r\n    let screenHeight = 0\r\n\r\n    if (!data) {\r\n      const { width, height } = window.screen\r\n      screenWidth = Math.min(width, height)\r\n      screenHeight = Math.max(width, height)\r\n      localStorage.setItem('web-orientation', `${screenWidth},${screenHeight}`)\r\n    } else {\r\n      data = data.split(',')\r\n      screenWidth = Number(data[0])\r\n      screenHeight = Number(data[1])\r\n    }\r\n\r\n    this.type = clientWidth === screenWidth ? ORIENTATION_PORTRAIT : ORIENTATION_LANDSCAPE\r\n    return this.type\r\n  }\r\n}\r\n\r\nexport default new Orientation()"],"names":["const","Orientation","constructor","type","init","prototypeAccessors","isLandscape","this","isPortrait","bind","get","func","delay","timer","initResizeEvent","context","args","arguments","clearTimeout","setTimeout","apply","addEventListener","data","localStorage","getItem","document","documentElement","screenWidth","screenHeight","split","Number","window","screen","Math","min","width","height","max","setItem","clientWidth"],"mappings":"iLAAAA,IAeMC,EACJC,gBACOC,KAAO,UAEPC,8EAGPC,EAAIC,iCAtBwB,cAuBnBC,KAAKJ,MAGdE,EAAIG,gCAzBuB,aA0BlBD,KAAKJ,MAGdC,YAAAA,qBACOK,YACAC,OAGPD,YAAAA,oBAhCwBE,EAAMC,EAC1BC,SAgCIC,GAjCgBH,eAkCfD,OAlCqBE,EAmCzB,IAlCDC,EAAQ,KACL,eACCE,EAAUR,KACVS,EAAOC,UACbC,aAAaL,GACbA,EAAQM,WAAW,WACjBR,EAAKS,MAAML,EAASC,IACnBJ,YA4BIS,iBAAiB,SAAUP,IAGpCJ,YAAAA,mBACMY,EAAOC,aAAaC,QAAQ,qBACMC,SAASC,gCAC3CC,EAAc,EACdC,EAAe,KAEdN,IAMIA,EAAKO,MAAM,OACJC,OAAOR,EAAK,MACXQ,OAAOR,EAAK,QARlB,OACiBS,OAAOC,8BACnBC,KAAKC,IAAIC,EAAOC,KACfH,KAAKI,IAAIF,EAAOC,GAC/Bb,aAAae,QAAQ,kBAAsBX,MAAeC,eAOvDzB,KAAOoC,IAAgBZ,EA1DH,WADC,YA4DnBpB,KAAKJ,6CAID,IAAIF"}